<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Compare Power from RMSTdesign and SSRMST Packages • RMSTdesign</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script><!-- sticky kit --><script src="https://cdnjs.cloudflare.com/ajax/libs/sticky-kit/1.1.3/sticky-kit.min.js" integrity="sha256-c4Rlo1ZozqTPE2RLuvbusY3+SU1pQaJC0TjuhygMipw=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Compare Power from RMSTdesign and SSRMST Packages">
<meta property="og:description" content="">
<meta name="twitter:card" content="summary">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">RMSTdesign</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fa fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Compare-to-SSRMST.html">Compare Power from RMSTdesign and SSRMST Packages</a>
    </li>
    <li>
      <a href="../articles/GOG111-Trial.html">Trial design example based on GOG111 trial data</a>
    </li>
    <li>
      <a href="../articles/Optimal-trial-design.html">Using RMSTdesign to Find Optimal Trial Designs</a>
    </li>
    <li>
      <a href="../articles/RMSTdesign-package-validation.html">RMSTdesign-package-validation</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/anneae/RMSTdesign">
    <span class="fa fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      
      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1>Compare Power from RMSTdesign and SSRMST Packages</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/anneae/RMSTdesign/blob/master/vignettes/Compare-to-SSRMST.Rmd"><code>vignettes/Compare-to-SSRMST.Rmd</code></a></small>
      <div class="hidden name"><code>Compare-to-SSRMST.Rmd</code></div>

    </div>

    
    
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(RMSTdesign)
<span class="kw"><a href="https://www.rdocumentation.org/packages/base/topics/library">library</a></span>(SSRMST)</code></pre></div>
<p>This vignette compares results from our package and the <code>SSRMST</code> package. The data is based on the Saxagliptin Study which studied the cardiovascular risk of saxagliptin.<a href="#fn1" class="footnoteRef" id="fnref1"><sup>1</sup></a><sup>,</sup><a href="#fn2" class="footnoteRef" id="fnref2"><sup>2</sup></a> We compare results from the <code>SSRMST</code> package with the <code>RMSTdesign</code> package. The <code>SSRMST</code> package calculates power based on simulations for trials with Weibull distributed survival times.</p>
<p>The accrual rate, accrual period, trial time, Weibull shape and scale parameters of the control (arm0) and treatment (arm 1) distributions, and tau were set according to the example. The results from the <code>ssrmst</code> function are shown below.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">ac_rate   =<span class="st"> </span><span class="dv">30</span>
ac_period =<span class="st"> </span><span class="dv">70</span>
tot_time  =<span class="st"> </span><span class="dv">908</span>
shape0 =<span class="st"> </span><span class="fl">1.05</span>
shape1 =<span class="st"> </span><span class="fl">1.05</span>
scale0 =<span class="st"> </span><span class="dv">8573</span>
scale1 =<span class="st"> </span><span class="dv">8573</span>
tau  =<span class="st"> </span><span class="dv">900</span>
<span class="kw"><a href="https://www.rdocumentation.org/packages/SSRMST/topics/ssrmst">ssrmst</a></span>(<span class="dt">ac_rate=</span>ac_rate, <span class="dt">ac_period=</span>ac_period, <span class="dt">tot_time=</span>tot_time, <span class="dt">tau=</span>tau, <span class="dt">shape0=</span>shape0, <span class="dt">scale0=</span>scale0, <span class="dt">shape1=</span>shape1, <span class="dt">scale1=</span>scale1, <span class="dt">seed=</span><span class="dv">2017</span>)
<span class="co">#&gt; Superiority test </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                           Total arm0 arm1</span>
<span class="co">#&gt; Sample size                2100 1050 1050</span>
<span class="co">#&gt; Expected number of events   182   91   91</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Power (separate) </span>
<span class="co">#&gt;            0.028 </span>
<span class="co">#&gt; Power (pooled) </span>
<span class="co">#&gt;          0.028</span></code></pre></div>
<p>Using <code>RMSTdesign</code>, the following code calculates the power under the same trial design assumptions.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">arm0&lt;-<span class="kw"><a href="../reference/survdefWeibull.html">survdefWeibull</a></span>(<span class="dt">shape =</span> shape0, <span class="dt">scale =</span> scale0)
arm1&lt;-<span class="kw"><a href="../reference/survdefWeibull.html">survdefWeibull</a></span>(<span class="dt">shape =</span> shape1, <span class="dt">scale =</span> scale1)

<span class="kw"><a href="../reference/RMSTpow.html">RMSTpow</a></span>(arm0, arm1, <span class="dt">k1=</span><span class="dv">70</span>, <span class="dt">k2=</span><span class="dv">908</span><span class="op">-</span><span class="dv">70</span>, <span class="dt">tau =</span> <span class="dv">900</span>, <span class="dt">n=</span><span class="dv">30</span><span class="op">*</span><span class="dv">70</span>)
<span class="co">#&gt; $n</span>
<span class="co">#&gt; [1] 2100</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerRMST</span>
<span class="co">#&gt; [1] 0.025</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerRMSTToverC</span>
<span class="co">#&gt; [1] 0.025</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerRMSTCoverT</span>
<span class="co">#&gt; [1] NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerLRToverC</span>
<span class="co">#&gt; [1] 0.025</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerLRCoverT</span>
<span class="co">#&gt; [1] NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerLRtauToverC</span>
<span class="co">#&gt; [1] 0.025</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerLRtauCoverT</span>
<span class="co">#&gt; [1] NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $pKME</span>
<span class="co">#&gt; [1] 1</span></code></pre></div>
<p>In the output of the <code>RMSTpow</code> function, we should focus on the quantity <code>powerRMSTToverC</code>, which is the asymptotic power of the restricted mean-based test for the superiority of treatment over control. The output of the <code>ssrmst</code> function gives the empirical power of the same test based on simulations (2000 simulations by default). We see that we get similar results with the two packages, and that, as expected under the null scenario, the null hypothesis is rejected about 2.5% of the time, which is equal to the one-sided alpha level.</p>
<p>Next, consider a scenario where the alternative hypothesis is true and compare the power obtained using the two packages.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">arm1alt&lt;-<span class="kw"><a href="../reference/survdefWeibull.html">survdefWeibull</a></span>(<span class="dt">shape =</span> shape1, <span class="dt">scale =</span> <span class="dv">16000</span>)
<span class="kw"><a href="../reference/plotsurvdef.html">plotsurvdef</a></span>(arm0, arm1alt, <span class="dt">xupper =</span> <span class="dv">1000</span>)</code></pre></div>
<p><img src="Compare-to-SSRMST_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">
<span class="kw"><a href="https://www.rdocumentation.org/packages/SSRMST/topics/ssrmst">ssrmst</a></span>(<span class="dt">ac_rate=</span>ac_rate, <span class="dt">ac_period=</span>ac_period, <span class="dt">tot_time=</span>tot_time, <span class="dt">tau=</span>tau, <span class="dt">shape0=</span>shape0, <span class="dt">scale0=</span>scale0, <span class="dt">shape1=</span>shape1, <span class="dt">scale1=</span><span class="dv">16000</span>, <span class="dt">seed=</span><span class="dv">2017</span>)
<span class="co">#&gt; Superiority test </span>
<span class="co">#&gt; </span>
<span class="co">#&gt;                           Total arm0 arm1</span>
<span class="co">#&gt; Sample size                2100 1050 1050</span>
<span class="co">#&gt; Expected number of events   139   91   48</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; Power (separate) </span>
<span class="co">#&gt;            0.917 </span>
<span class="co">#&gt; Power (pooled) </span>
<span class="co">#&gt;          0.917</span>

<span class="kw"><a href="../reference/RMSTpow.html">RMSTpow</a></span>(arm0, arm1alt, <span class="dt">k1=</span><span class="dv">70</span>, <span class="dt">k2=</span><span class="dv">908</span><span class="op">-</span><span class="dv">70</span>, <span class="dt">tau =</span> <span class="dv">900</span>, <span class="dt">n=</span><span class="dv">30</span><span class="op">*</span><span class="dv">70</span>)
<span class="co">#&gt; $n</span>
<span class="co">#&gt; [1] 2100</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerRMST</span>
<span class="co">#&gt; [1] 0.9113981</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerRMSTToverC</span>
<span class="co">#&gt; [1] 0.9113981</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerRMSTCoverT</span>
<span class="co">#&gt; [1] NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerLRToverC</span>
<span class="co">#&gt; [1] 0.9632719</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerLRCoverT</span>
<span class="co">#&gt; [1] NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerLRtauToverC</span>
<span class="co">#&gt; [1] 0.9631907</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $powerLRtauCoverT</span>
<span class="co">#&gt; [1] NA</span>
<span class="co">#&gt; </span>
<span class="co">#&gt; $pKME</span>
<span class="co">#&gt; [1] 1</span></code></pre></div>
<p>Again the power returned by both packages is similar: 91.7% for the <code>SSRMST</code> package, and 91.1% for the <code>RMSTpow</code> package.</p>
<div class="footnotes">
<hr>
<ol>
<li id="fn1"><p>Scirica BM, Bhatt DL, et al. Saxagliptin and Cardiovascular Outcomes in Patients with Type 2 Diabetes Mellitus. N Engl J Med. 2013, 369, 1317-26.<a href="#fnref1">↩</a></p></li>
<li id="fn2"><p><a href="https://cran.r-project.org/web/packages/SSRMST/vignettes/vignette-ssrmst.html" class="uri">https://cran.r-project.org/web/packages/SSRMST/vignettes/vignette-ssrmst.html</a><a href="#fnref2">↩</a></p></li>
</ol>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
      </div>

</div>


      <footer><div class="copyright">
  <p>Developed by Anne Eaton.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.3.0.</p>
</div>
      </footer>
</div>

  

  </body>
</html>
